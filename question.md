# 遇到的一些问题
这里的问题是我写这个小网站时遇到的一些问题, 如果关于这些问题你有自己的见解, 请抽出点时间告诉我, 我的邮箱是 [i.am.t.lbk@gmail.com](mailto:i.am.t.lbk@gmail.com).

## 关于软件分模块
软件怎样分模块才合适? 像这个小测试网站这样, 由于spring**貌似**只能有一个加载资源文件的bean, 导致所有需要测试persist模块的地方都得配置加载的文件.这既是好事也是坏事:

- 好事就是配置性更强: 向questionnaire-sms中的`git.lbk.questionnaire.sms.SmsImplParallelTest`测试类中我想使用h2database, 直接创建一个测试的配置文件, 里面写上h2database数据库的信息就可以.
- 坏事就是依赖太强了吧? 这里所有需要使用这个模块的地方都需要去加载那个资源文件.而且需要准确的配置上加密的属性名...

那么软件怎么分模块更合适呢?

- 用户相关的在一个模块, 其他的根据情况分几个模块, 然后各个模块之间使用包进行分层?
- 页面相关在一个模块, 业务层在一个模块?
- 不分模块, 直接写. 个人感觉在写小型程序(可能也包含部分中型程序吧)时非常方便, 快速, 就像脚本语言在处理简单事情时几行代码就能搞定, 省时省事. 可是在处理比较大的程序时就有点混乱了吧.

这个, 我还没有写过中/大型程序, 所以这些都只是 听说 + 感觉. 这里算是练习一下模块吧, 可是反而发现更多问题...

## 关于 XML 和 Annotation 配置方法
其实我很喜欢Annotation配置, 简单, 便捷, 貌似还比XML清晰. 但是这里Spring Bean的配置我几乎使用的都是XML文件, 因为有一个问题解决不了:
比如我在dao层中使用了Annotation进行配置, 而且测试时很可能需要修改部分配置项, 那么可以这样做:

- 修改Annotation配置.
    - 这样做的问题在于, 每次测试都需要修改配置, 测试完了, 还得修改过来...
- 创建一个新的XML配置文件, 并且不配置自动扫描的包.
    - 那就相当于又重新写了一份配置.
    - 而且从测试的角度看, 那几个dao层的类, 既有Annotation配置(虽然并没有使用), 又有XML配置, 感觉有点丑陋.
- 把可能变化的部分抽出来, 写在XML中, 其他部分写成Annotation配置.
    - 不同的测试可能有不同的部分有变化. 最终可能是, 所有的部分都得修改.
    - 最重要的一点是, 感觉这样比上面那种更丑陋.

或者说Annotation的问题在于无法存在多份配置, 然后在程序运行时去选择使用哪份配置. 而Annotation既然存在, 而且貌似很火(可能是我太喜欢这种配置方式了吧), 那么实际使用时是怎么解决这个问题的呢?

## 关于entity中的属性
这个问题确实有点钻牛角尖... 但是我还是想知道. entity就是为了保存, 传递数据用的, 那么为什么还有将属性的可见性设为`private`, 然后再提供`getter`, `setter`呢? 直接设为`public`不是更简洁吗? 确实由于JavaBean的实现, 框架可能都是使用`getter`, `setter`获取设置属性的. 所以没有`gettet`和`setter`时, 使用框架时应该会出问题. 但是除去这些历史原因, 还有没有其他的原因? 貌似属性设置成`private`也没有使程序更易修改啊: 修改属性的时候, 通常都会修改相应的`getter`, `setter`吧? 那所有使用`getter`, `setter`的地方不也同样的跟着改吗?
